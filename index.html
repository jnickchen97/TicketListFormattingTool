<!DOCTYPE html>
<html>
	<head>
		<title>Ticket List Formatting Tool</title>
		<link rel="icon" href="logo-yrcw.ico" type="image/ico">
		<link href="StyleSheet.css" rel="stylesheet">
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
	</head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<body onload="displayPushDate();">
		<center>
			<table style="table-layout:fixed; width:100%;">
				<tr>
					<td style="width:15%">
						<div id="myNav" class="overlay">
							<table class="menu-content" id="menuInfo">
								<tr>
									<th style="font-size:20px" colspan="3">Here's what each option does:</th>
								</tr>
								<tr>
									<td>Get New DevB Tickets from Jenkins:</td>
									<td style="text-align:left;" colspan="2">This option will help format new tickets from Jenkins.<br>
										Go to Jenkins changes, and copy all text from the newest build down to the oldest build that you want.<br>
										Don't worry if non-DevB builds are copied, as those will be filtered out.<br>
										After copying all of the desired changes, come back to this page, paste the changes in the text box, and click format.<br>
										The tickets will be displayed in the correct format, and can then be copied and pasted directly into the ticket list file.<br>
										There is also a button that goes to the Jenkins changes page.
									</td>
									
								</tr>
								<tr>
									<td>Format New Tickets on List:</td>
									<td style="text-align:left;" colspan="2">This option finds only unformatted tickets on the selected list, and formats them correctly.<br>
										The newly formatted tickets will be displayed and can be copied to the ticket list.<br>
										If any of the new tickets are a duplicate of the existing list, they will not be shown.
									</td>
									
								</tr>
								<tr>
									<td>Format List for Merge Request:</td>
									<td style="text-align:left;" colspan="2">This option displays the selected list mostly as-is, with the Merge Request line and extra whitespace removed.<br>
										The list can then be copied directly into the merge request.
									</td>
									
								</tr>
								<tr>
									<td>Format List for Change Task:</td>
									<td style="text-align:left;" colspan="2">This option displays only the tickets, formatted correctly for the change task.<br>
										The list can then be copied directly into the detailed description section of the change task.
									</td>
									
								</tr>
								<tr>
									<td>Format List for Email:</td>
									<td style="text-align:left;" colspan="2">This option displays the file compare, change request, merge request, and all tickets on the selected list.<br>
										The list will be correctly formatted for the body of the PROD push notification email.<br>
										A button is also shown that opens a new email template with the correct information.<br>
										The formatted list can then be copied into the email.
									</td>
									
								</tr>
							</table>
						</div>
						<span onclick="toggleNav()">&#9776; Info</span>
					</td>
					<td><h3>MCC PROD Deploy Ticket List Formatting Tool</h3></td>
					<td style="width:15%" id="dateLabel"><label style="float:right"></label></td>
				</tr>
			</table>
			<table style="table-layout: fixed">
				<tr>
					<th colspan="5"><label id="optionLabel">What would you like to do?</label></th>
				</tr>
				<tr id="optionButtons1">
					<td class="width20"><button onclick="Jenkins();">Get New DevB Tickets from Jenkins</button></td>
					<td class="width20"><button onclick="NewFormat();">Format New Tickets on List</button></td>
					<td class="width20"><button onclick="Merge();">Format List for Merge Request</button></td>
					<td class="width20"><button onclick="ChangeTask();">Format List for Change Task</button></td>
					<td class="width20"><button onclick="Email();">Format List for Email</button></td>
				</tr>
				<tr>
					<td colspan="5"><button id="refresh" style="visibility:hidden" onClick="window.location.reload();">Do Something Else</button></td>
				</tr>
				<tr>
					<td class="JenkinsAll" id="JenkinsLabel"><label>Paste the text here and click format:</label></td>
					<td><textarea class="JenkinsAll" id="JenkinsText"></textarea></td>
					<td><input type="file" id="fileInput" style="visibility:hidden"/></td>
					<td><button class="JenkinsAll" id="JenkinsButton" onclick="JenkinsFormat();">Format</button></td>
					<td><button id="JenkinsLink" style="visibility:hidden" onclick="navigate('https://jenkins-mcc.yrcw.com/job/app/job/mcc-modules/changes', true);">Go to Jenkins Changes</button></td>
				</tr>
			</table>
			<div id="outputText"></div>
			<table>
				<tr>
					<td class="width20"><button id="newMergeRequest" style="visibility:hidden" onclick="newMergeRequest();">Open a new merge request</button></td>
					<td class="width20"><button id="goToMergeRequest" style="visibility:hidden" onclick="goToMergeRequest();">Go to the merge request</button></td>
					<td class="width20"><button id="emailButton" style="visibility:hidden" onclick="sendEmail();">Ready to send the email?<br>Click here to open a template.</button></td>
					<td class="width20"><button id="goToChangeRequest" style="visibility:hidden" onclick="goToChangeRequest();">Go to the change request</button></td>
					<td class="width20"><button id="newChangeRequest" style="visibility:hidden" onclick="newChangeRequest();">Find the change request here</button></td>
				</tr>
			</table>
		</center>
		<script src="toolScript.js"></script>
	</body>
</html> 
